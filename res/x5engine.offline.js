(function(e,t){"use strict";e.extend(t,{imBlog:{separator:'<div class="imBlogSeparator"></div>\n',paginate:function(e,n,r,i){var s='<div style="text-align: center;">',o=t.l10n.get;return n>0&&(s+='<a href="'+e+"start="+(n-r)+"&length="+r+'">'+o("blog_pagination_prev","&lt;&lt; Newer posts")+"</a>"),n>0&&i>n+r&&(s+=" | "),i>n+r&&(s+='<a href="'+e+"start="+(n+r)+"&length="+r+'">'+o("blog_pagination_next","Older posts &gt;&gt;")+"</a>"),s+="</div>",s},showPost:function(e,n,r){n=n||0,r=r||0;var i="",s=t.l10n.get,o=t.settings.imBlog,u=o.posts[e],a="";if(!u)return;a=n?u.title:'<a href="?id='+e+'">'+u.title+"</a>",i+='<h2 id="imPgTitle" style="display: block;">'+a+"</h2>",i+='<div class="imBreadcrumb" style="display: block;">'+s("blog_published_by")+"<strong> "+u.author+" </strong>",i+=s("blog_in")+' <a href="?category='+u.category.replace(/[\s]{1}/g,"_")+'">'+u.category+"</a> &#149; "+u.timestamp,"media"in u&&!!u.media&&(i+=' &#149; <a href="'+u.media+'">Download '+u.media.substring(u.media.lastIndexOf("/"))+"</a>");if(u.tag.length>0){i+="<br />Tags: ";for(var f=0;f<u.tag.length;f++)i+='<a href="?tag='+u.tag[f]+'">'+u.tag[f]+"</a>,&nbsp;"}i+="</div>";if(n||r&&o.post_type=="firstshown"||o.post_type=="allshown"){i+='<div class="imBlogPostBody">';if("media"in u||"slideshow"in u)"media"in u&&!!u.mediahtml&&(i+=u.mediahtml),"slideshow"in u&&!!u.slideshow&&(i+=u.slideshow),i+='<div style="clear: both; margin-bottom: 10px;"></div>';i+=u.body;if(u.sources.length>0){i+='<div class="imBlogSources">',i+="<b>"+s("blog_sources")+":</b><br />",i+="<ul>";for(var l=0;l<u.sources.length;l++)i+="<li>"+u.sources[l]+"</li>";i+="</ul></div>"}i+=(!o.addThis||!o.addThis?"":"<br />"+o.addThis)+"<br /><br /></div>"}else i+='<div class="imBlogPostSummary">'+u.summary+"</div>";return n===0&&(i+='<div class="imBlogPostRead"><a class="imCssLink" href="?id='+e+'">'+s("blog_read_all")+" &#187;</a></div>"),n!==0&&o.comments&&(o.comments_source=="wsx5"?o.comment_type!="stars"?(i+='<div class="topic-comments">',i+='<div class="topic-summary">',i+="<div>"+s("blog_no_comment")+"</div>",i+="</div>",i+='<div class="topic-form">',i+='<form id="blogComment" action="#">',i+='<div class="topic-form-row">',i+='<label for="form_name" style="float: left; width: 100px;">'+s("blog_name")+'*</label> <input type="text" id="form_name" name="name" class="mandatory" />',i+="</div>",i+='<div class="topic-form-row">',i+='<label for="form_email" style="float: left; width: 100px;">'+s("blog_email")+'*</label> <input type="text" id="form_email" name="email" class="mandatory valEmail" />',i+="</div>",i+='<div class="topic-form-row">',i+='<label for="form_url" style="float: left; width: 100px;">'+s("blog_website")+'</label> <input type="text" id="form_url" name="url" />',i+="</div>",o.comment_type!="comment"&&(i+='<div class="topic-form-row">',i+='<label for="blog-rating" style="float: left; width: 100px;vertical-align: middle;">'+s("blog_rating")+"*</label>",i+='<span class="topic-star-container-big variable-star-rating">',i+='<span class="topic-star-fixer-big" style="width: 0;"></span>',i+="</span>",i+="</div>"),i+='<div class="topic-form-row">',i+='<label for="form_body" style="clear: both; width: 100px;">'+s("blog_message")+'*</label><textarea id="form_body" name="body" class="mandatory" style="width: 99%; height: 100px;"></textarea>',i+="</div>",o.captcha&&(i+=o.captcha),i+='<div class="topic-form-row" style="text-align: center; margin-bottom: 15px;"><input type="button" value="'+s("blog_send")+'" class="imBlogCommentSubmitBtn" onclick="x5engine.imBlog.offlineCheck()"/></div>',i+="</form>",i+="</div>",i+="</div>"):(i+='<div style="text-align: center" class="topic-comments">',i+='<div style="margin-bottom: 5px;">'+s("blog_vote","Average Vote")+": 0/5</div>",i+='<div class="topic-star-container-big variable-star-rating">',i+='<span class="topic-star-fixer-big" style="width: 0%;"></span>',i+="</div>",i+="</div>"):i+=o.comments_code),i},offlineCheck:function(){t.imForm.validate("#blogComment",{type:"tip",showAll:!0})&&t.utils.showOfflineMessage(t.l10n.get("blog_offline_message"))},showCategory:function(e){var n="",r=t.settings.imBlog.posts_cat[unescape(e)],i=t.utils.getParam("start"),s=t.utils.getParam("length");i=i?Math.max(i,0):0,s=s?Math.max(s,1):t.settings.imBlog.home_posts_number;if(!r)return;if(!r.length)n+='<div class="imBlogEmpty">Empty category</div>';else{for(var o=i;o<(r.length<i+s?r.length:i+s);o++)o>i&&(n+=t.imBlog.separator),n+=t.imBlog.showPost(r[o],0,o==i?1:0);n+=t.imBlog.paginate("?category="+e+"&",i,s,r.length)}return n},showMonth:function(e){var n="",r=t.settings.imBlog.posts_month[e],i=t.utils.getParam("start"),s=t.utils.getParam("length");i=i?Math.max(i,0):0,s=s?Math.max(s,1):t.settings.imBlog.home_posts_number;if(!r)return;if(!r.length)n+='<div class="imBlogEmpty">Empty month</div>';else{for(var o=i;o<(r.length<i+s?r.length:i+s);o++)o>i&&(n+=t.imBlog.separator),n+=t.imBlog.showPost(r[o],0,o==i?1:0);n+=t.imBlog.paginate("?month="+e+"&",i,s,r.length)}return n},showSearch:function(e){var n="",r=t.settings.imBlog.posts_ids,i=0,s=t.utils.getParam("start"),o=t.utils.getParam("length"),u=[],a=0;s=s?Math.max(s,0):0,o=o?Math.max(o,1):t.settings.imBlog.home_posts_number;if(!r)return;if(!r.length)n+='<div class="imBlogEmpty">Empty blog</div>';else{for(a=0;a<r.length;a++){var f=t.settings.imBlog.posts[r[a]];(f.title.indexOf(e)!=-1||f.summary.indexOf(e)!=-1||f.body.indexOf(e)!=-1)&&u.push(f)}for(a=s;a<(u.length<s+o?u.length:s+o);a++)a>s&&(n+=t.imBlog.separator),n+=t.imBlog.showPost(u[a].id,0,a==s?1:0);n+=t.imBlog.paginate("?search="+e+"&",s,o,u.length),u.length===0&&(n+='<div class="imBlogEmpty">Empty search</div>')}return n},showLast:function(e){var n=t.settings.imBlog.posts_ids,r="",i=t.utils.getParam("start"),s=t.utils.getParam("length");i=i?Math.max(i,0):0,s=s?Math.max(s,1):e;if(!n)return;if(!n.length)r+='<div class="imBlogEmpty">Empty blog</div>';else{for(var o=i;o<(n.length<i+s?n.length:i+s);o++)o>i&&(r+=t.imBlog.separator),r+=t.imBlog.showPost(n[o],0,o===i?1:0);r+=t.imBlog.paginate("?",i,s,n.length)}return r},showTag:function(e){var n=t.settings.imBlog.posts_ids,r="",i=[],s=t.utils.getParam("start"),o=t.utils.getParam("length");s=s?Math.max(s,0):0,o=o?Math.max(o,1):t.settings.imBlog.home_posts_number;if(!n)return;if(!n.length)r+='<div class="imBlogEmpty">Empty blog</div>';else{for(var u=0;u<n.length;u++){var a=t.settings.imBlog.posts[n[u]].tag,f=!1;for(var l=0;l<a.length;l++)a[l]==e&&i.push(t.settings.imBlog.posts[n[u]])}for(u=s;u<(s+o<i.length?s+o:i.length);u++)s>0&&(r+=t.imBlog.separator),r+=t.imBlog.showPost(n[u],0,u==s?1:0)}return r},show:function(){var n=t.imBlog,r=t.utils.getParam,i=e("#imBlogContent");t.utils.isOnline()||(i.empty(),r("id")?i.append(n.showPost(r("id"),1)):r("category")?i.append(n.showCategory(r("category"))):r("tag")?i.append(n.showTag(r("tag"))):r("month")?i.append(n.showMonth(r("month"))):r("search")?i.append(n.showSearch(r("search"))):i.append(n.showLast(t.settings.imBlog.home_posts_number)),t.topic({target:".topic-comments"}))}}})})(_jq,x5engine),function(e,t){"use strict";e.extend(!0,t,{responsive:{showOrderingPositions:function(n){var r=e("body"),i=e(window);n=e.extend(!0,{onObjectClick:null},n),e("[data-responsive-sequence-number]").each(function(){var s=e(this),o=s.attr("data-responsive-sequence-number"),u=null,a=null,f=e('<div class="responsive-sequence-box"><div class="sequence-box-background"></div><div class="sequence-number-background"></div><div class="sequence-number">'+o+"</div>"+"</div>"),l=function(){u=t.utils.offset(s),f.css({top:u.top,left:u.left,"z-index":t.settings.zIndex.sequenceNumbers}).outerWidth(s.innerWidth()).outerHeight(s.innerHeight())};e.isFunction(n.onObjectClick)&&f.click(n.onObjectClick),r.append(f),l(),i.on("resize.sequence-number",function(){clearTimeout(a),a=setTimeout(l,10)})})},hideOrderingPositions:function(){e(".responsive-sequence-box").remove(),e(window).off(".sequence-number")}}})}(_jq,x5engine),function(e,t){"use strict";e.extend(t.utils,{offlineMessageTimeout:null,showOfflineMessage:function(n,r,i){if(t.utils.isOnline())return!1;if(e("#imMsgBox").length>0&&e("#imMsgBox").html().indexOf(n)!==-1)return!0;var s=function(){e("#imMsgBoxF").height(e("#imMsgBox").outerHeight())};e("#imMsgBox, #imMsgBoxF").remove(),r=r||"",i=i||"#FFFFE1";var o="z-index: 10200; position: fixed; top: 0; left: 0; right: 0; padding: 8px; background-color: "+i+"; font-family: Tahoma; font-size: 8pt; border-bottom: 1px solid gray;",u=e("body");e("#imMsgBox").length===0&&(u.prepend('<div id="imMsgBoxF">&nbsp;</div>'),u.prepend('<div id="imMsgBox" style="'+o+'">'+(r!==""?'<img style="float: left;" src="'+r+'" />':"")+'<span style="float: left;">'+n+'</span><span id="imMsgBoxClose" style="float: right; cursor: pointer;"><b>X</b></span></div>'));var a=e("#imMsgBox, #imMsgBoxF"),f=e(window);return s(),a.fadeOut(0).slideDown("slow"),f.off("resize",s).resize(s),e("#imMsgBoxClose").off("click").click(function(){a.slideUp("slow",function(){a.remove()})}),!0}})}(_jq,x5engine);